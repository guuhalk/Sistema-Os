<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	template="/templates/template.xhtml">

	<ui:define name="header">
	</ui:define>

	<ui:define name="content">
		<b:growl id="growlMsg" globalOnly="true" placementFrom="top"
			show-detail="true" show-summary="false" delay="2000" escape="true" />

		<h:form enctype="multipart/form-data">
			<b:container>
				<br></br>
				<b:column span="10">

					<h3>Alocar - Os</h3>
					<hr></hr>
					<br></br>

				</b:column>

				<b:column span="2">
					<b:commandLink look="default" value="Pesquisar Os"
						icon="glyphicon glyphicon-search"
						style=" padding: 3%; font-size: 90%;"
						action="#{analistaOsBean.redirecionarPaginasParaPesquisarOs}" />

				</b:column>

				<hr></hr>
				<br></br>



				<b:column span="10">
					<b:row>
						<b:column span="1">
							<p:outputLabel value="Id" />
						</b:column>

						<b:column span="4">
							<p:outputLabel value="Titulo" />
						</b:column>

						<b:column span="2">
							<p:outputLabel value="Data" />
						</b:column>

						<b:column span="2">
							<p:outputLabel value="Ações" />
						</b:column>
					</b:row>
					<hr />

					<b:row>
						<ui:repeat value="#{alocarOsBean.listaChamado}" var="os">

							<b:column span="1">
								<p:outputLabel style="font-size:100%;font-weight: normal;"
									value="#{os.osId}" />
							</b:column>


							<b:column span="4">
								<p:outputLabel style="font-size:100%;font-weight: normal;"
									value="#{os.tituloOs}" />
							</b:column>

							<b:column span="2">
								<p:outputLabel style="font-size:100%;font-weight: normal;"
									value="#{os.dataOs}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</p:outputLabel>
							</b:column>

							<b:column span="2" >
								
								<b:commandLink  value="Alocar" look="default" icon="open-file"  ajax="true"
									style="font-size:80%;" >
		
									<p:ajax listener="#{alocarOsBean.selecionaChamado(os)}" event="click" />
									<div onclick="$('.modalPseudoClass').modal();tableWidgetVar.DataTable().responsive.recalc()" >	</div>
									</b:commandLink>
								
							</b:column>
							<br />
							<br />

						</ui:repeat>

					</b:row>


				</b:column>

				<b:modal title="Alocar Chamado " styleClass="modalPseudoClass" closable="false">
					<b:row>
	
					<b:column span="7">
						<b:inputTextarea rows="12" label="Descrição: " value="#{alocarOsBean.chamadoSelecionado.descricaoOs}"  />
					</b:column>

					<b:column span="5">
						<b:dateTimePicker show-time="false" label="Data Entrga: " />

						<b:selectOneMenu value="#{selectOneMenuBean.type}" label="Responsavel:">
							
							<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
							<f:selectItems value="#{alocarOsBean.listaDeAnalistas}" var="usu"  
										   itemLabel="#{usu.usuNome}" itemValue="#{usu.usuId}" />
							<f:converter converterId="genericConverter" />
						</b:selectOneMenu>
						
 						<p:outputLabel value="Tipo :" /> 
						<b:radiobutton value="#{alocarOsBean.tipo}" >
							<f:selectItem itemValue="1" itemLabel="Acesso" />
							<f:selectItem itemValue="2" itemLabel="Manutenção" />
							<f:selectItem itemValue="2" itemLabel="Desenvolvimento" />
						</b:radiobutton>
					</b:column>
					</b:row>
					<f:facet name="footer">
						<div id="rodape" style="display: flex; float: right;">
							<b:button style="float:right;" value="Fechar" dismiss="modal" />
							<b:commandLink look="success" ajax="false" value="Salvar"
								action="#{newOsBean.insereChamado}" style="float:right;">
							</b:commandLink>
						</div>
					</f:facet>

				</b:modal>

			</b:container>
		</h:form>
	</ui:define>
</ui:composition>